#@data/values
---

#@overlay/match missing_ok=True
observability:
  enabled: false
  name: csm-observability
  #! this will only be used for standalone deployment
  namespace: csm

#@overlay/match missing_ok=True
karaviTopology:
  image: dellemc/csm-topology:v0.3.0
  enabled: false
  #! comma separated list of provisioner names (ex: csi-vxflexos.dellemc.com)
  provisionerNames: csi-vxflexos.dellemc.com,csi-powerstore.dellemc.com
  service:
    type: ClusterIP
  logLevel: INFO
  logFormat: text
  zipkin:
    uri: ""
    serviceName: karavi-topology
    probability: 0.0  

#@overlay/match missing_ok=True
karaviMetricsPowerflex:
  image: dellemc/csm-metrics-powerflex:v0.3.0
  enabled: false
  collectorAddr: otel-collector:55680
  provisionerNames: csi-vxflexos.dellemc.com
  sdcMetricsEnabled: "true"
  sdcPollFrequencySeconds: 10
  volumePollFrequencySeconds: 10
  volumeMetricsEnabled: "true"
  storageClassPoolMetricsEnabled: "true"
  storageClassPoolPollFrequencySeconds: 10
  concurrentPowerflexQueries: 10
  endpoint: karavi-metrics-powerflex
  service:
    type: ClusterIP
  logLevel: INFO
  logFormat: text 

#@overlay/match missing_ok=True
karaviMetricsPowerstore:
  image: dellemc/csm-metrics-powerstore:v0.1.0
  enabled: true
  collectorAddr: otel-collector:55680
  #! comma separated list of provisioner names (ex: csi-powerstore.dellemc.com)
  provisionerNames: csi-powerstore.dellemc.com
  #! set polling frequency to the PowerStore array to get metrics data
  volumePollFrequencySeconds: 10
  #! set volumeMetricsEnabled to "false" to disable collection of Volume metrics
  volumeMetricsEnabled: "true"
  #! set the the default max concurrent queries to powerstore
  concurrentPowerstoreQueries: 10
  #! set the default endpoint for powerstore service
  endpoint: karavi-metrics-powerstore
  service:
    type: ClusterIP
  logLevel: INFO
  logFormat: text
  zipkin:
    uri: ""
    serviceName: metrics-powerstore
    probability: 0.0


#@overlay/match missing_ok=True
otelCollector:
  image: otel/opentelemetry-collector:0.9.0
  service:
    type: ClusterIP
  nginxProxy:
    image: nginxinc/nginx-unprivileged:1.18
